<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="Hexo">
  <link 
    rel="icon" 
    href="https://avatars.githubusercontent.com/u/26833603?s=400&amp;u=88f16ad0f75d59ff9e9b871c1b66819c514b0f2c&amp;v=4">
  <title>多页面配置</title>
  
    
      <meta 
        property="og:title" 
        content="多页面配置">
    
    
      <meta 
        property="og:url" 
        content="https://970024540.github.io/2019/04/02/vue-cli-multiPage/index.html">
    
    
      <meta 
        property="og:img" 
        content="https://img.songhn.com/img/latex.jpg?imageslim">
    
    
      <meta 
        property="og:img" 
        content="vue-cli-multiPage">
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2019-04-02">
      <meta 
        property="og:article:modified_time" 
        content="2021-05-19">
      <meta 
        property="og:article:author" 
        content="煌">
      
        
          <meta 
            property="og:article:tag" 
            content="vue">
        
          <meta 
            property="og:article:tag" 
            content="多页面">
        
      
    
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
        <img 
          class="navbar-logo-img" 
          src="https://avatars.githubusercontent.com/u/26833603?s=400&u=88f16ad0f75d59ff9e9b871c1b66819c514b0f2c&v=4" 
          alt="blog logo">
      
      <span class="navbar-logo-dsc">煌-个人博客</span>
    </span>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          首页
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          归档
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          标签
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          分类
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          关于
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          友链
        
      </a>
    
    <a 
      class="navbar-menu-item darknavbar" 
      id="dark">
      <i class="iconfont icon-weather"></i>
    </a>
    <a 
      class="navbar-menu-item searchnavbar" 
      id="search">
      <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i>
    </a>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <main class="main-column">
  <div class="image-wrapper">
    <img 
      src="https://img.songhn.com/img/latex.jpg?imageslim" 
      data-src="https://img.songhn.com/img/latex.jpg?imageslim"
      srcset="https://img.songhn.com/img/latex.jpg?imageMogr2/blur/1x0/quality/1"
      class="image lozad"
      alt="多页面配置 thumbnail">
  </div>

<article class="card card-content">
  <header>
    <h1 class="post-title">
      多页面配置
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2019-04-02T06:47:49.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2019-04-02</span>
    </time>
    
      <span class="dot"></span>
      
        <a 
          href="/categories/%E5%A4%9A%E9%A1%B5%E9%9D%A2/" 
          class="post-meta-link">
          多页面
        </a>
      
    
    
      <span class="dot"></span>
      <span>3.7k 字</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/vue/" 
            class="post-meta-link">
            vue
          </a>
        
          
            <span class="dot"></span>
          
          <a 
            href="/tags/%E5%A4%9A%E9%A1%B5%E9%9D%A2/" 
            class="post-meta-link">
            多页面
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h2 id="vue-cli如何搭建多页面"><a href="#vue-cli如何搭建多页面" class="headerlink" title="vue-cli如何搭建多页面"></a>vue-cli如何搭建多页面</h2><p><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/writing.html">项目地址</a></p>
<hr>
<h4 id="如何使用本项目？"><a href="#如何使用本项目？" class="headerlink" title="如何使用本项目？"></a>如何使用本项目？</h4><p> 本项目建立多页面步骤为：</p>
<ul>
<li>建立一个iflow页面<pre class="highlight"><code class="hljs plaintext">&gt; 1 html/下新建文件 iflow.html<br>&gt; 2 src/下新建文件夹及内容 iflow/<br>                           /app/App.vue <br>                           /routes/router.vue <br>&gt; 3 entry/新建文件 iflow.js<br></code></pre></li>
</ul>
<h4 id="搭建脚手架"><a href="#搭建脚手架" class="headerlink" title="搭建脚手架"></a>搭建脚手架</h4><p> 本地先安装vue脚手架</p>
<pre class="highlight"><code class="hljs js">npm install vue-cli<br></code></pre>

<p> 选取webpack模版（这里我们使用的是webpack模版）<br> 需要注意的是项目的名称不能大写，不然会报错。</p>
<pre class="highlight"><code class="hljs js">vue init webpack Name(取项目名)<br></code></pre>

<p> 选项翻译</p>
<pre class="highlight"><code class="hljs js">Project name (my-project) # 项目名称（我的项目）<br><br>Project description (A Vue.js project) # 项目描述一个Vue.js 项目<br><br>Author 作者（你的名字）<br><br>Install vue-router? (Y/n) # 是否安装Vue路由，也就是以后是spa（但页面应用需要的模块）<br><br>Use ESLint to lint your code? (Y/n) # 使用 ESLint 到你的代码？ （Y [ yes ] / N [ no ]）<br><br>Pick an ESLint preset (Use arrow keys) # 选择一个预置ESLint（使用箭头键）<br><br>Setup unit tests <span class="hljs-keyword">with</span> Karma + Mocha? (Y/n) # 设置单元测Karma + Mocha？ （Y/ N）<br><br>Setup e2e tests <span class="hljs-keyword">with</span> Nightwatch? (Y/n) # 设置端到端测试，Nightwatch？ （Y/ N）<br></code></pre>


<p> 进去该项目</p>
<pre class="highlight"><code class="hljs js">cd Name<br></code></pre>

<p> 安装依赖</p>
<pre class="highlight"><code class="hljs js">npm install<br></code></pre>

<p> 运行</p>
<pre class="highlight"><code class="hljs js">npm run dev<br></code></pre>

<ul>
<li>然后访问<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a> //默认端口为8080，访问失败可以是端口被占用了，在config/index.js里改dev:{port}，换一个端口尝试</li>
</ul>
<h4 id="多页面原理介绍"><a href="#多页面原理介绍" class="headerlink" title="多页面原理介绍"></a>多页面原理介绍</h4><p> 下面开始为脚手架配置多页面原理，此次搭建的是写死的配置，后面会添加动态方法</p>
<p> 效果图：<br><img src="https://github.com/970024540/vue-cli-MultiPage/blob/master/src/assets/mse.jpg?raw=true" alt="mse.html" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://github.com/970024540/vue-cli-MultiPage/blob/master/src/assets/mse.jpg?raw=true" class="lozad post-image"><br><img src="https://github.com//970024540/vue-cli-MultiPage/blob/master/src/assets/from.png?raw=true" alt="from.html" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://github.com//970024540/vue-cli-MultiPage/blob/master/src/assets/from.png?raw=true" class="lozad post-image"><br><img src="https://github.com/970024540/vue-cli-MultiPage/blob/master/src/assets/common.jpg?raw=true" alt="common.html" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://github.com/970024540/vue-cli-MultiPage/blob/master/src/assets/common.jpg?raw=true" class="lozad post-image"></p>
<p> 多页面配置分dev环境跟prod环境</p>
<ul>
<li>我把html部分都放到了./html里面，把入口文件都放到了./src/entry/这个文件夹下面，方便统一管理，现在我们先安装好脚手架</li>
</ul>
<p> 首先是公共配置<br>打开webpack.base.conf.js，找到entry，添加多入口</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//多页面入口,文件开始路径为项目初始路径</span><br><span class="hljs-attr">entry</span>: &#123;<br>    <span class="hljs-attr">mse</span>: <span class="hljs-string">&#x27;./src/entry/mse.js&#x27;</span>,<br>    <span class="hljs-attr">from</span>: <span class="hljs-string">&#x27;./src/entry/from.js&#x27;</span>,<br>    <span class="hljs-attr">common</span>: <span class="hljs-string">&#x27;./src/entry/common.js&#x27;</span>,<br>&#125;,<br><br></code></pre>
<p> 运行、编译的时候每一个入口都会对应一个Chunk</p>
<p> dev环境部署</p>
<p> 修改 webpack.dev.conf.js</p>
<ul>
<li>打开 ~\build\webpack.dev.conf.js ，在plugins下找到new HtmlWebpackPlugin，在其后面添加对应的多页，并为每个页面添加Chunk配置</li>
</ul>
<pre class="highlight"><code class="hljs js"><span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;<br>  <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;mse.html&#x27;</span>,<span class="hljs-comment">//访问地址</span><br>  <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;./html/mse.html&#x27;</span>,<span class="hljs-comment">//来源路径</span><br>  <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,<span class="hljs-comment">//是否开启注入</span><br>  <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;mse&#x27;</span>]<span class="hljs-comment">//入口文件，在base里的入口参数entry配置，需要引入的Chunk，不配置就会引入所有页面的资源</span><br>&#125;),<br><span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;<br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;from.html&#x27;</span>,<br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;./html/from.html&#x27;</span>,<br>    <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;from&#x27;</span>]<br>  &#125;),<br>  <span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;<br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;common.html&#x27;</span>,<br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;./html/common.html&#x27;</span>,<br>    <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;common&#x27;</span>]<br>  &#125;),<br></code></pre>
<ul>
<li>chunks: [‘mse’]中的mse对应的是webpack.base.conf.js中entry设置的入口文件</li>
</ul>
<p> 修改完了以后再根据此项目目录结构对应修改，重新npm run dev 下，然后出入对应html即可出现</p>
<p> prod环境部署</p>
<p> 打开~\config\index.js，找到build下的index: path.resolve(__dirname, ‘../dist/index.html’)，在其后添加多页</p>
<pre class="highlight"><code class="hljs js">build: &#123;<br>    <span class="hljs-attr">mse</span>: path.resolve(__dirname, <span class="hljs-string">&#x27;../dist/mse.html&#x27;</span>),<br>    <span class="hljs-attr">from</span>: path.resolve(__dirname, <span class="hljs-string">&#x27;../dist/from.html&#x27;</span>),<br>    <span class="hljs-attr">common</span>: path.resolve(__dirname, <span class="hljs-string">&#x27;../dist/common.html&#x27;</span>),<br>...<br>&#125;<br></code></pre>

<p> 修改 webpack.prod.conf.js</p>
<ul>
<li>打开~\build\webpack.prod.conf.js，在plugins下找到new HtmlWebpackPlugin，在其后面添加对应的多页，并为每个页面添加Chunk配置</li>
<li>HtmlWebpackPlugin 中的 filename 引用的是 config/index.js 中对应的 build</li>
</ul>
<pre class="highlight"><code class="hljs js">plugins: [<br>    <span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;<br>        <span class="hljs-attr">filename</span>: config.build.mse,<span class="hljs-comment">//入口文件</span><br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;./html/mse.html&#x27;</span>,<span class="hljs-comment">//来源路径</span><br>        <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">minify</span>: &#123;<br>            <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">collapseWhitespace</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">removeAttributeQuotes</span>: <span class="hljs-literal">true</span><br>        &#125;,<br>        <span class="hljs-attr">chunksSortMode</span>: <span class="hljs-string">&#x27;dependency&#x27;</span>,<br>        <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;manifest&#x27;</span>,<span class="hljs-string">&#x27;vendor&#x27;</span>,<span class="hljs-string">&#x27;mse&#x27;</span>]<span class="hljs-comment">//需要引入的Chunk，不配置就会引入所有页面的资源</span><br>    &#125;),<br>    <span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;<br>        <span class="hljs-attr">filename</span>: config.build.from,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;./html/from.html&#x27;</span>,<br>        <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">minify</span>: &#123;<br>            <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">collapseWhitespace</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">removeAttributeQuotes</span>: <span class="hljs-literal">true</span><br>        &#125;,<br>        <span class="hljs-attr">chunksSortMode</span>: <span class="hljs-string">&#x27;dependency&#x27;</span>,<br>        <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;manifest&#x27;</span>,<span class="hljs-string">&#x27;vendor&#x27;</span>,<span class="hljs-string">&#x27;from&#x27;</span>]<br>    &#125;),<br>    <span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;<br>        <span class="hljs-attr">filename</span>: config.build.common,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;./html/common.html&#x27;</span>,<br>        <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">minify</span>: &#123;<br>            <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">collapseWhitespace</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">removeAttributeQuotes</span>: <span class="hljs-literal">true</span><br>        &#125;,<br>        <span class="hljs-attr">chunksSortMode</span>: <span class="hljs-string">&#x27;dependency&#x27;</span>,<br>        <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;manifest&#x27;</span>,<span class="hljs-string">&#x27;vendor&#x27;</span>,<span class="hljs-string">&#x27;common&#x27;</span>]<br>    &#125;),<br>]<br></code></pre>
<p> 这样，生产环境配置就修改完了，是不是没想象中这么麻烦呢，哈哈。现在打包npm run build 。如果出错了请检查自己的修改的是不是哪里写错了。一般是没问题的，本人亲测有效。打包好之后就丢进服务器里，访问即可看到效果啦！！！</p>
<ul>
<li>这是基于脚手架之多页面搭建的原理，都是用死方法写的，下次更新我会把他动态出来。到时候配置好，你就不用管其他，只需要添加文件夹，入口文件即可。</li>
</ul>
<blockquote>
<hr>
</blockquote>
<h4 id="如何设置动态多页面？"><a href="#如何设置动态多页面？" class="headerlink" title="如何设置动态多页面？"></a>如何设置动态多页面？</h4><p> 首先我们需要用到几个插件</p>
<ul>
<li>我们现在utils.js文件引入跟加入我们需要的插件和文件<pre class="highlight"><code class="hljs js"><span class="hljs-comment">// utils.js</span><br><span class="hljs-comment">// 引入页面模版</span><br><span class="hljs-keyword">const</span> HtmlWebpackPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;html-webpack-plugin&#x27;</span>)<br><span class="hljs-comment">// 用于做相应的merge处理</span><br><span class="hljs-keyword">const</span> merge = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;webpack-merge&#x27;</span>)<br><span class="hljs-comment">// 取得/src/entry下的所有入口文件</span><br><span class="hljs-keyword">var</span> PAGE_PATH = path.resolve(__dirname, <span class="hljs-string">&#x27;../src/entry&#x27;</span>)<br><span class="hljs-comment">// 取得/html下的所有html文件</span><br><span class="hljs-keyword">var</span> PAGE_HTML_PATH = path.resolve(__dirname, <span class="hljs-string">&#x27;../html&#x27;</span>)<br></code></pre></li>
</ul>
<p> 然后我们在utils.js里面添加两个动态获取入口/页面的方法</p>
<ul>
<li><p>定义entries方法动态在webpack.base.conf.js里动态设置多页面入口</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//动态设置多页面入口</span><br><span class="hljs-built_in">exports</span>.entries = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> entryFiles = glob.sync(PAGE_PATH + <span class="hljs-string">&#x27;/*.js&#x27;</span>)<span class="hljs-comment">//获取当前路径下所有.js的文件</span><br>    <span class="hljs-keyword">var</span> map = &#123;&#125;<br>    entryFiles.forEach(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">var</span> filename = filePath.substring(filePath.lastIndexOf(<span class="hljs-string">&#x27;\/&#x27;</span>) + <span class="hljs-number">1</span>, filePath.lastIndexOf(<span class="hljs-string">&#x27;.&#x27;</span>))<br>        map[filename] = filePath<br>    &#125;)<br>    <span class="hljs-keyword">return</span> map<br>&#125;<br></code></pre></li>
<li><p>详情查看源代码</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//多页面入口,文件开始路径为项目初始路径</span><br><span class="hljs-comment">//   entry: &#123;</span><br><span class="hljs-comment">//     mse: &#x27;./src/entry/mse.js&#x27;,</span><br><span class="hljs-comment">//     from: &#x27;./src/entry/from.js&#x27;,</span><br><span class="hljs-comment">//     login: &#x27;./src/entry/login.js&#x27;,</span><br><span class="hljs-comment">//   &#125;,</span><br></code></pre>
<p>//动态设置多页面入口<br>entry: utils.entries(),</p>
</li>
<li><p>定义htmlPlugin方法，用来获取html进行动态设置webpack</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//动态获取html文件 与上面的多页面入口配置相同，读取html文件夹下的对应的html后缀文件，然后放入数组中</span><br><span class="hljs-built_in">exports</span>.htmlPlugin = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> entryHtml = glob.sync(PAGE_HTML_PATH + <span class="hljs-string">&#x27;/*.html&#x27;</span>)<br>    <span class="hljs-keyword">let</span> arr = []<br>    entryHtml.forEach(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> filename = filePath.substring(filePath.lastIndexOf(<span class="hljs-string">&#x27;\/&#x27;</span>) + <span class="hljs-number">1</span>, filePath.lastIndexOf(<span class="hljs-string">&#x27;.&#x27;</span>))<br>        <span class="hljs-keyword">let</span> conf = &#123;<br>            <span class="hljs-comment">// 文件名称</span><br>            <span class="hljs-attr">filename</span>: filename + <span class="hljs-string">&#x27;.html&#x27;</span>,<br>            <span class="hljs-comment">// 模板来源</span><br>            <span class="hljs-attr">template</span>: filePath,<br>            <span class="hljs-comment">// 页面模板需要加对应的js脚本，如果不加这行则每个页面都会引入所有的js脚本</span><br>            <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;manifest&#x27;</span>, <span class="hljs-string">&#x27;vendor&#x27;</span>, filename],<br>            <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span><br>        &#125;<br>        <span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">&#x27;production&#x27;</span>) &#123;<span class="hljs-comment">//生产环境</span><br>            conf = merge(conf, &#123;<br>                <span class="hljs-comment">//压缩HTML文件</span><br>                <span class="hljs-attr">minify</span>: &#123;<br>                    <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,<br>                    <span class="hljs-attr">collapseWhitespace</span>: <span class="hljs-literal">true</span>,<br>                    <span class="hljs-attr">removeAttributeQuotes</span>: <span class="hljs-literal">true</span><br>                &#125;,<br>                <span class="hljs-comment">//按照模块的依赖关系依次加载，即：manifest，vendor，本页面入口，其他页面入口.</span><br>                <span class="hljs-attr">chunksSortMode</span>: <span class="hljs-string">&#x27;dependency&#x27;</span><br>            &#125;)<br>        &#125;<br>        <span class="hljs-built_in">console</span>.log(conf)<br>        arr.push(<span class="hljs-keyword">new</span> HtmlWebpackPlugin(conf))<br>    &#125;)<br>    <span class="hljs-keyword">return</span> arr<br>&#125;<br></code></pre></li>
<li><p>在webpack.dev.conf.js和webpack.prod.conf.js中都添加下面代码</p>
</li>
<li><p>在plugins数组后面添加此方法</p>
</li>
</ul>
<pre class="highlight"><code class="hljs js">plugins: [].concat(utils.htmlPlugin())<br></code></pre>

<p> 这样就完成了动态设置，此时在config/index.js中注释掉下面代码就行了</p>
<pre class="highlight"><code class="hljs js">build: &#123;<br>    <span class="hljs-comment">// Template for index.html</span><br>    <span class="hljs-comment">// mse: path.resolve(__dirname, &#x27;../dist/mse.html&#x27;),</span><br>    <span class="hljs-comment">// from: path.resolve(__dirname, &#x27;../dist/from.html&#x27;),</span><br>    <span class="hljs-comment">// login: path.resolve(__dirname, &#x27;../dist/login.html&#x27;),</span><br><br>    ...&#125;<br></code></pre>

<p> 这样的好处就是每个页面的router都是独立的，如果想只需要一个路由，那么应该在入口文件中都引入同一个路由就行了，理论上应该是这样，各位可以试试。</p>
<p> 这样就可以了，如果不清楚哪里修改请查看源代码。</p>
<h4 id="添加了axios-以及本地代理功能"><a href="#添加了axios-以及本地代理功能" class="headerlink" title="添加了axios,以及本地代理功能"></a>添加了axios,以及本地代理功能</h4><p> axios，是尤大大在vue2中推荐使用的请求方式，所以在这个项目中，我也加了此功能，用来请求数据</p>
<p> 首先我们先安装axios</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//--save 发布后还需要依赖的模块</span><br><span class="hljs-comment">//--save-dev 开发才用到它。</span><br>npm install axios --save <br></code></pre>

<p> 然后我们在/config此文件夹下新建 http.js</p>
<ul>
<li>之所以在这里建立http.js，是想独立开这个axios这个功能，方便管理</li>
</ul>
<p>然后引入我们安装好的axios</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>;<span class="hljs-comment">//引入axios</span><br><br><span class="hljs-keyword">import</span> NProgress <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;nprogress&#x27;</span>; <span class="hljs-comment">//引入进度条插件 ，npm install --save nprogress</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;nprogress/nprogress.css&#x27;</span>; <span class="hljs-comment">// 引入进度条css文件，相对路径即可</span><br><br><br><span class="hljs-comment">//axios 基本配置</span><br>axios.defaults.timeout = <span class="hljs-number">50000</span>;<span class="hljs-comment">//请求超时时间</span><br>axios.defaults.withCredentials = <span class="hljs-literal">true</span>;<span class="hljs-comment">//运行跨域</span><br><span class="hljs-comment">//设置头部信息</span><br>axios.defaults.headers.common[<span class="hljs-string">&#x27;Cache-Control&#x27;</span>] = <span class="hljs-string">&quot;no-cache&quot;</span>;<br>axios.defaults.headers.common[<span class="hljs-string">&#x27;Pragma&#x27;</span>] = <span class="hljs-string">&quot;no-cache&quot;</span>;<br></code></pre>
<p>然后我们在这个文件加上拦截器</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//添加一个请求拦截器</span><br>axios.interceptors.request.use(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">config</span>)</span>&#123;<br>    <span class="hljs-comment">//在请求发出之前进行一些操作</span><br>    NProgress.start();<span class="hljs-comment">//进度条开始</span><br>    <span class="hljs-keyword">return</span> config;<br>  &#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)</span>&#123;<br>    NProgress.done();<span class="hljs-comment">//进度条结束</span><br>    <span class="hljs-comment">//Do something with request error</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error);<br>&#125;);<br><br><span class="hljs-comment">//添加一个响应拦截器</span><br>  axios.interceptors.response.use(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>&#123;<br>    <span class="hljs-comment">//在这里对返回的数据进行处理</span><br>    NProgress.done();<br>    <span class="hljs-keyword">return</span> res;<br>  &#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)</span>&#123;<br>    NProgress.done();<br>    <span class="hljs-keyword">if</span> (error.response) &#123;<br>        <span class="hljs-keyword">switch</span> (error.response.status) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;接口返回401，请查看是否未登录。跳至登录页面&#x27;</span>)<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//Do something with response error</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error);<br>  &#125;)<br><br>   <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> axios;<span class="hljs-comment">//最后我们要对axios导出去使用</span><br></code></pre>

<p> 现在我们已经对axios准备完毕了，然后我们就可以使用啦。。</p>
<p> 这个时候就涉及到接口问题了，现在这个项目中有两个环境，本地环境跟生产环境，而接口在本地会出现跨域问题，我们先要解决跨域问题<br> 我们在config/index.js这里配置代理</p>
<pre class="highlight"><code class="hljs js">dev&#123;<br>    <span class="hljs-comment">//设置代理</span><br>    <span class="hljs-attr">proxyTable</span>: &#123;<br>        <span class="hljs-string">&#x27;/operation/&#x27;</span>:&#123;<span class="hljs-comment">//将这个应用名下的请求转接为http://apiv2.pinduoduo.com下</span><br>            <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://apiv2.pinduoduo.com/&#x27;</span>,<br>            <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span><br>        &#125;,<br>        <span class="hljs-comment">//如果多个不同的接口那就再加就行了，例如</span><br>        &lt;!-- <span class="hljs-string">&#x27;/api/&#x27;</span>:&#123;<br>            <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http:baidu.com/&#x27;</span>,<br>            <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span><br>        &#125;... --&gt;<br>    &#125;,<br>&#125;<br><br></code></pre>
<ul>
<li>这样本地代理就完成了，那生产环境呢，这个一般我们打包好了项目丢到服务器中不会出现跨域问题，如果有的话让后端设置对应的处理就行了,所以我们在生产环境中基本不需要管跨域的问题.</li>
</ul>
<p> 不过我们需要区分开本地环境跟生产环境的域名，所以这时候我们还需要在config/下的额dev.env.js跟prod.env.js中设置对应的域名</p>
<ul>
<li>拿拼多多接口为例，在这两个文件中我们添加多一个字段，用来区分不同环境对应不同域名<pre class="highlight"><code class="hljs js"><span class="hljs-comment">// dev.env.js</span><br><span class="hljs-attr">API_pingDuo</span>:<span class="hljs-string">&quot;/operation/&quot;</span>,<span class="hljs-comment">//因为配置了代理，所以本地只需要配应用名就行了</span><br><br><span class="hljs-comment">//prod.env.js</span><br><span class="hljs-attr">API_pingDuo</span>:<span class="hljs-string">&#x27;&quot;http://apiv2.pinduoduo.com/operation/&quot;&#x27;</span>,<span class="hljs-comment">//生成环境需要放到对应服务器方可请求，否则报错。</span><br></code></pre>
现在我们的环境问题也已经解决了，接下来我们就开始准备使用请求接口啦。。。</li>
</ul>
<p> 我们在src/下新建api目录，在里面再新建api.js跟main.js</p>
<ul>
<li>api.js是用来专门放api用的</li>
<li>main.js 是专门用来放请求用的，网上很多都是说把axios挂在vue的原型中，在组件中使用，这样个人觉得不方便管理，我们应该把每个功能点独立开来，这样方便我们后期的维护</li>
</ul>
<p>在api.js,在网上找到一个拼多多接口，不需要token校验，所以在本项目中拿来使用。</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//专门定义api</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> pingDuo = process.env.API_pingDuo + <span class="hljs-string">&#x27;1284/groups?&#x27;</span>;<br><br></code></pre>
<p>在main.js中写各种接口</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> api <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./api&#x27;</span>; <span class="hljs-comment">//引入我们的所有接口</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../config/http&#x27;</span>;<span class="hljs-comment">//引入我们加了拦截的axios</span><br><span class="hljs-keyword">import</span> qs <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;querystring&#x27;</span>;<span class="hljs-comment">// 这个是下载axios自动安装的，我们直接使用即可，他是用来为我们处理接口数据的</span><br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> requestpingDuo = <span class="hljs-function"><span class="hljs-params">params</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> axios.get(api.pingDuo+qs.stringify(params)).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.data);<br>&#125;;<br><br></code></pre>
<p> 这样我们的接口就写好啦，现在就开始使用咯</p>
<ul>
<li>我在mse.html里面进行演示<br>在src/mse/app/App.vue里面我们加入对应的按钮<pre class="highlight"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;btnClick2&quot;</span>&gt;</span>点我请求数据拼多多<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in pinDuoList&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;&#123;item.goods_name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">    <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">        <span class="hljs-comment">//定义点击按钮事件，发送请求</span></span><br><span class="javascript">        <span class="hljs-function"><span class="hljs-title">btnClick2</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            <span class="hljs-keyword">let</span> params=&#123;</span><br><span class="javascript">                <span class="hljs-attr">opt_type</span>:<span class="hljs-number">1</span>,</span><br><span class="javascript">                <span class="hljs-attr">offset</span>:<span class="hljs-number">0</span>,</span><br><span class="javascript">                <span class="hljs-attr">size</span>:<span class="hljs-number">50</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">            requestpingDuo(params).then(<span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;</span><br><span class="javascript">                <span class="hljs-keyword">if</span>(res)&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.pinDuoList=res.goods_list;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;)</span><br><span class="javascript">        &#125;,</span><br><span class="javascript">    &#125;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></li>
</ul>
<p> 效果图</p>
<p><img src="https://github.com/970024540/vue-cli-MultiPage/blob/master/src/assets/axios.png?raw=true" alt="axios" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://github.com/970024540/vue-cli-MultiPage/blob/master/src/assets/axios.png?raw=true" class="lozad post-image"></p>
<ul>
<li>这样就实现了请求接口啦，下一次更新会上如何规避打包时不需要打包的页面</li>
</ul>
<h4 id="过滤不需要打包的模块"><a href="#过滤不需要打包的模块" class="headerlink" title="过滤不需要打包的模块"></a>过滤不需要打包的模块</h4><ul>
<li>场景：很多时候我们在打包时候很多模块是不需要重复打包的，所以我们应该添加这个功能</li>
</ul>
<p> 首先我们先定义不需要打包的模块<br>在build/build.js中定义，我们拿login这个模块来做实验</p>
<pre class="highlight"><code class="hljs js">process.env.filterSystem = [<span class="hljs-string">&quot;login&quot;</span>]<span class="hljs-comment">//过滤不打包模块</span><br></code></pre>
<p> 然后我们在我们的公共方法里面修改下配置<br>在utils.js里面修改入口文件方法</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//动态设置多页面入口</span><br><span class="hljs-built_in">exports</span>.entries = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> entryFiles = glob.sync(PAGE_PATH + <span class="hljs-string">&#x27;/*.js&#x27;</span>)<span class="hljs-comment">//获取当前路径下所有.js的文件</span><br>    <span class="hljs-keyword">var</span> map = &#123;&#125;<br>    entryFiles.forEach(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">var</span> filename = filePath.substring(filePath.lastIndexOf(<span class="hljs-string">&#x27;\/&#x27;</span>) + <span class="hljs-number">1</span>, filePath.lastIndexOf(<span class="hljs-string">&#x27;.&#x27;</span>))<br>        <span class="hljs-keyword">if</span>(process.env.NODE_ENV === <span class="hljs-string">&#x27;production&#x27;</span>)&#123;<span class="hljs-comment">//生产环境过滤不打包系统</span><br>            <span class="hljs-comment">//判断设置的入口模块名不在filterSystem这里才进行追加</span><br>            <span class="hljs-keyword">if</span> (process.env.filterSystem.indexOf(filename) &lt; <span class="hljs-number">0</span>) &#123;<br>                map[filename] = filePath<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                map[filename] = filePath<br>            &#125;<br>        &#125;<br>    &#125;)<br>    <span class="hljs-keyword">return</span> map<br>&#125;<br></code></pre>
<p>然后我们在获取html中也进行一些修改，</p>
<pre class="highlight"><code class="hljs js"><span class="hljs-comment">//动态获取html文件 与上面的多页面入口配置相同，读取html文件夹下的对应的html后缀文件，然后放入数组中</span><br><span class="hljs-built_in">exports</span>.htmlPlugin = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> entryHtml = glob.sync(PAGE_HTML_PATH + <span class="hljs-string">&#x27;/*.html&#x27;</span>)<br>    <span class="hljs-keyword">let</span> arr = []<br>    entryHtml.forEach(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> filename = filePath.substring(filePath.lastIndexOf(<span class="hljs-string">&#x27;\/&#x27;</span>) + <span class="hljs-number">1</span>, filePath.lastIndexOf(<span class="hljs-string">&#x27;.&#x27;</span>))<br>        <span class="hljs-keyword">let</span> conf = &#123;<br>            <span class="hljs-comment">// 文件名称</span><br>            <span class="hljs-attr">filename</span>: filename + <span class="hljs-string">&#x27;.html&#x27;</span>,<br>            <span class="hljs-comment">// 模板来源</span><br>            <span class="hljs-attr">template</span>: filePath,<br>            <span class="hljs-comment">// 页面模板需要加对应的js脚本，如果不加这行则每个页面都会引入所有的js脚本</span><br>            <span class="hljs-attr">chunks</span>: [<span class="hljs-string">&#x27;manifest&#x27;</span>, <span class="hljs-string">&#x27;vendor&#x27;</span>, filename],<br>            <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span><br>        &#125;<br>        <span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">&#x27;production&#x27;</span>) &#123;<span class="hljs-comment">//生产环境</span><br>            <span class="hljs-comment">//找到里面存在对应的模块，使其跳过即可</span><br>            <span class="hljs-keyword">if</span> (process.env.filterSystem.indexOf(filename) &gt;= <span class="hljs-number">0</span>) &#123;<span class="hljs-comment">//过滤不需要打包系统</span><br>                <span class="hljs-keyword">return</span> ;<br>            &#125;<br>            conf = merge(conf, &#123;<br>                <span class="hljs-comment">//压缩HTML文件</span><br>                <span class="hljs-attr">minify</span>: &#123;<br>                    <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,<br>                    <span class="hljs-attr">collapseWhitespace</span>: <span class="hljs-literal">true</span>,<br>                    <span class="hljs-attr">removeAttributeQuotes</span>: <span class="hljs-literal">true</span><br>                &#125;,<br>                <span class="hljs-comment">//按照模块的依赖关系依次加载，即：manifest，vendor，本页面入口，其他页面入口.</span><br>                <span class="hljs-attr">chunksSortMode</span>: <span class="hljs-string">&#x27;dependency&#x27;</span><br>            &#125;)<br>        &#125;<br>        <span class="hljs-built_in">console</span>.log(conf)<br>        arr.push(<span class="hljs-keyword">new</span> HtmlWebpackPlugin(conf))<br>    &#125;)<br>    <span class="hljs-keyword">return</span> arr<br>&#125;<br></code></pre>
<ul>
<li>然后我们删除dist/这个文件夹下面的文件，重新打包 npm run build<br>打包完成以后你会发现没有login.html了，在static中也没有对应的css跟js了<br>这样就实现了我们打包时过滤不需要打包的模块了</li>
</ul>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">作者：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            煌
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">文章链接：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://970024540.github.io/2019/04/02/vue-cli-multiPage/">
            https://970024540.github.io/2019/04/02/vue-cli-multiPage/
          </a>
        </p>
        <p><span style="font-weight: bold;">版权声明：</span>本博客所有文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>。转载请注明出处！</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2021/05/18/hello-world/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">上一篇</div>
          
            <div class="nav-title">初次编写博客 </div>
          
        </div>
      </a>
    </div>
  
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-cli%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%A4%9A%E9%A1%B5%E9%9D%A2"><span class="toc-text">vue-cli如何搭建多页面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%9C%AC%E9%A1%B9%E7%9B%AE%EF%BC%9F"><span class="toc-text">如何使用本项目？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-text">搭建脚手架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text">多页面原理介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E5%8A%A8%E6%80%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%EF%BC%9F"><span class="toc-text">如何设置动态多页面？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BA%86axios-%E4%BB%A5%E5%8F%8A%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-text">添加了axios,以及本地代理功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E4%B8%8D%E9%9C%80%E8%A6%81%E6%89%93%E5%8C%85%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="toc-text">过滤不需要打包的模块</span></a></li></ol></li></ol></li></ol>
</div></main>
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="https://avatars.githubusercontent.com/u/26833603?s=400&u=88f16ad0f75d59ff9e9b871c1b66819c514b0f2c&v=4" 
    class="author-img" 
    alt="author avatar">

<p class="author-name">煌</p>
<p class="author-description">designed by 煌</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>2</span>
    <span>文章</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>2</span>
    <span>分类</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>3</span>
    <span>标签</span>
  </a>
</div>

  <div class="author-card-society">
    
      <div class="author-card-society-icon">
        <a href="https://970024540.github.io/">
          <i class="iconfont icon-github society-icon"></i>
        </a>
      </div>
    
  </div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-cli%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%A4%9A%E9%A1%B5%E9%9D%A2"><span class="toc-text">vue-cli如何搭建多页面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%9C%AC%E9%A1%B9%E7%9B%AE%EF%BC%9F"><span class="toc-text">如何使用本项目？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-text">搭建脚手架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text">多页面原理介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E5%8A%A8%E6%80%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%EF%BC%9F"><span class="toc-text">如何设置动态多页面？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BA%86axios-%E4%BB%A5%E5%8F%8A%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-text">添加了axios,以及本地代理功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E4%B8%8D%E9%9C%80%E8%A6%81%E6%89%93%E5%8C%85%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="toc-text">过滤不需要打包的模块</span></a></li></ol></li></ol></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>分类
  </div>
  <div class="categories-list">
    
      <a href="/categories/%E4%B8%AA%E4%BA%BA/">
        <div class="categories-list-item">
          个人
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/%E5%A4%9A%E9%A1%B5%E9%9D%A2/">
        <div class="categories-list-item">
          多页面
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>热门标签
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/%E5%A4%9A%E9%A1%B5%E9%9D%A2/" 
        title="多页面">
        <div class="tags-list-item">多页面</div>
      </a>
    
      <a 
        href="/tags/vue/" 
        title="vue">
        <div class="tags-list-item">vue</div>
      </a>
    
      <a 
        href="/tags/%E4%B8%AA%E4%BA%BA/" 
        title="个人">
        <div class="tags-list-item">个人</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-cli%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%A4%9A%E9%A1%B5%E9%9D%A2"><span class="toc-text">vue-cli如何搭建多页面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%9C%AC%E9%A1%B9%E7%9B%AE%EF%BC%9F"><span class="toc-text">如何使用本项目？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-text">搭建脚手架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text">多页面原理介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E5%8A%A8%E6%80%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%EF%BC%9F"><span class="toc-text">如何设置动态多页面？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BA%86axios-%E4%BB%A5%E5%8F%8A%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-text">添加了axios,以及本地代理功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E4%B8%8D%E9%9C%80%E8%A6%81%E6%89%93%E5%8C%85%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="toc-text">过滤不需要打包的模块</span></a></li></ol></li></ol></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>最近文章
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-05-18</div>
        <a href="/2021/05/18/hello-world/"><div class="recent-posts-item-content">初次编写博客</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2019-04-02</div>
        <a href="/2019/04/02/vue-cli-multiPage/"><div class="recent-posts-item-content">多页面配置</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020 -
          
          2021
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          煌-个人博客
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
</footer> 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton" 
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
     
    
    
      <script>
        setTimeout(() => {localSearch("/search.json")}, 0)
      </script>
    
  </body>
</html>
